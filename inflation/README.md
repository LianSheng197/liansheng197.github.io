# inflation-rpg
```
僅僅只是為了解釋這遊戲裡的一些計算...

本文由 [Inflation RPG Wiki](http://inflation-rpg.wikia.com/wiki/Inflation_RPG_Wiki) 翻譯而成。
由於並非逐句翻譯，因此內容可能與原文有些落差。
為了方便理解，部分條目可能會有我擅自新增的補充或修改，請多留意。

最後，由於本人學疏才淺，因此翻譯過程中還是有部分需仰賴 Google大神 指引，如有翻譯錯誤，請不吝指正，感謝。
```
* [掉落率](#掉落率)
>* [掉落可能性 (itemKakuritu)](#掉落可能性)
>	* [敵人物品轉換基礎值 (BEIT)](#敵人物品轉換基礎值)
>	* [敵人物品對照基礎值 (BCIT)](#敵人物品對照基礎值)
>	* [幸運獎勵上限 (CLB)](#幸運獎勵上限)
>	* [最終幸運值 (FLV)](#最終幸運值)
>* [物品掉落機率](#物品掉落機率)
>	* [物品掉落機率基礎值](#物品掉落機率基礎值)
	
掉落率
---
該如何計算物品掉落機率呢？這是個複雜的計算，過程涉及多個步驟，以下將帶你逐步了解物品計算的流程。

### 掉落可能性
在做任何計算之前，你必須先找出一個叫做"掉落可能性"的數值，這玩意攸關著你有多少可能性獲得一個掉落物。不過，求出它的值是一個大工程，我會盡力白話解釋：
#### 敵人物品轉換基礎值
在計算[敵人能力值](#pointValue)之後，你需要遵循下列公式來取得"敵人物品轉換基礎值"：  
```
FEPV: 最終敵人能力值 (Final Enemy Point Value)
BEIT: 敵人物品轉換基礎值 (Base Enemy Item Translation)
```
* 當 FEPV 小於 500 時，BEIT = (FEPV * 4 + 1000) / 6
* 當 FEPV 介於 500 至 1000 時，BEIT = (FEPV * 4 + 2000) / 6
* 當 FEPV 介於 1000 至 2000 時，BEIT = (FEPV * 4 + 4000) / 6
* 其他狀況，BEIT = (FEPV * 3 + 4000) / 5
#### 敵人物品對照基礎值
接著，你需要再計算敵人物品對照基礎值(BCIT)，公式如下：
```
LUK: 幸運值 (Lucky)
BCIT: 敵人物品對照基礎值 (Base Comparison Item Translation)
```
* BCIT = LUK / BEIT * 0.6 + 0.3
#### 幸運獎勵上限
幸運獎勵上限是由多個變數加總而成的，藉由增加敵人物品對照基礎值來產生其變數A~E。
```
LUK: 幸運值 (Luck)
CLB: 幸運獎勵上限 (Capped Luck Bonuses)
MIN(A, B): 用來求出 A, B 之間的最小值
```
* 變數A = MIN(0.14, LUK / 2000 * 0.14)
* 變數B = MIN(0.14, LUK / 25000 * 0.14)
* 變數C = MIN(0.3, LUK / 300000 * 0.3)
* 變數D = MIN(0.3, LUK / 500000 * 0.3)
* 變數E = MIN(0.1, LUK / 1000000 * 0.1)

* CLB = 變數A + 變數B + 變數C + 變數D + 變數E
#### 最終幸運值
最終幸運值也是透過一些變數來計算。首先，將幸運獎勵上限的值指派給最終幸運值(使作中幸運值的初始值等於幸運獎勵上限的值)，然後通過下列流程來修改：
```
FLV: 最終幸運值 (Final Luck Value)
```
* 如果 FLV 大於 1，則 FLV = (FLV + 2) / 3
* 如果 FLV 大於 2，則 FLV = (FLV + 4) / 3

最後，FLV上限不可超過3(若超過3則以3計算)，然後再進行下方計算：
```
FLV: 最終幸運值 (Final Luck Value)
```
* FLV = (FLV * 100) / 100

### 物品掉落機率
接下來我們進入重點：計算一個物品的掉落機率。如果一個敵人身上有至少一個物品時(最多三件)，則進行下列計算流程：
#### 物品掉落機率基礎值
當一件物品可能掉落時，它將遵守下列計算：
```
Random(0.0,1.0): 取得隨機數，介於 0.0 至 1.0
```
* Random(0.0,1.0) * 敵人身上的物品數量 * 0.85 * ([掉落可能性](player value) + 1) / 2 + 1

這樣就可以取得基礎掉落率。基礎掉落率最大只能等於敵人身上的物品數量、最小為零。

接著，每個物品都有一個特定的掉落率。特定的掉落率乘上掉落可能性後，並產生一個隨機數（0.0 至 1.0）。若這個隨機數字低於掉落率，那麼你將獲得這個物品。

解決隨機計算：
* 最小隨機值 = ((物品編號 - 1) * 2) / 0.85 / (掉落可能性 + 1) / 敵人身上的物品數量

* 最大隨機值 =  (((物品編號 + 0.99999) - 1) * 2) / 0.85(掉落可能性 + 1) / 敵人身上的物品數量
